/*! Wiki.js - wiki.js.org - Licensed under AGPL */
(this.webpackJsonp=this.webpackJsonp||[]).push([["history"],{"./client/components/history.vue":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{staticClass:"history",attrs:{dark:e.$vuetify.theme.dark}},[n("nav-header"),n("v-content",[n("v-toolbar",{attrs:{color:"primary",dark:""}},[n("div",{staticClass:"subheading"},[e._v("Viewing history of "),n("strong",[e._v("/"+e._s(e.path))])]),e.$vuetify.breakpoint.mdAndUp?[n("v-spacer"),n("div",{staticClass:"caption blue--text text--lighten-3 mr-4"},[e._v("Trail Length: "+e._s(e.total))]),n("div",{staticClass:"caption blue--text text--lighten-3"},[e._v("ID: "+e._s(e.pageId))]),n("v-btn",{staticClass:"ml-4",attrs:{depressed:"",color:"blue darken-1"},on:{click:e.goLive}},[e._v("Return to Live Version")])]:e._e()],2),n("v-container",{attrs:{fluid:"","grid-list-xl":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",md4:""}},[n("v-chip",{staticClass:"my-0 ml-6",class:e.$vuetify.theme.dark?"grey--text text--lighten-2":"grey--text text--darken-2",attrs:{label:"",small:"",color:e.$vuetify.theme.dark?"grey darken-2":"grey lighten-2"}},[n("span",[e._v("Live")])]),n("v-timeline",{attrs:{dense:""}},e._l(e.fullTrail,(function(t,i){return n("v-timeline-item",{key:t.versionId,staticClass:"pb-2",attrs:{small:"edit"===t.actionType,color:e.trailColor(t.actionType),icon:e.trailIcon(t.actionType)}},[n("v-card",{staticClass:"radius-7",class:e.trailBgColor(t.actionType),attrs:{flat:""}},[n("v-toolbar",{attrs:{flat:"",color:e.trailBgColor(t.actionType),height:"40"}},[n("div",{staticClass:"caption",attrs:{title:e.$options.filters.moment(t.versionDate,"LLL")}},[e._v(e._s(e._f("moment")(t.versionDate,"ll")))]),n("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}),"edit"===t.actionType?n("div",{staticClass:"caption"},[e._v("Edited by "),n("strong",[e._v(e._s(t.authorName))])]):"move"===t.actionType?n("div",{staticClass:"caption"},[e._v("Moved from "),n("strong",[e._v(e._s(t.valueBefore))]),e._v(" to "),n("strong",[e._v(e._s(t.valueAfter))]),e._v(" by "),n("strong",[e._v(e._s(t.authorName))])]):"initial"===t.actionType?n("div",{staticClass:"caption"},[e._v("Created by "),n("strong",[e._v(e._s(t.authorName))])]):"live"===t.actionType?n("div",{staticClass:"caption"},[e._v("Last Edited by "),n("strong",[e._v(e._s(t.authorName))])]):n("div",{staticClass:"caption"},[e._v("Unknown Action by "),n("strong",[e._v(e._s(t.authorName))])]),n("v-spacer"),n("v-menu",{attrs:{"offset-x":"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-btn",e._g({staticClass:"mr-2 radius-4",attrs:{icon:"",small:"",tile:""}},i),[n("v-icon",[e._v("mdi-dots-horizontal")])],1)]}}],null,!0)},[n("v-list",{staticClass:"history-promptmenu",attrs:{dense:"",nav:""}},[n("v-list-item",{attrs:{disabled:t.versionId>=e.diffTarget&&0!==e.diffTarget||0===t.versionId},on:{click:function(n){return e.setDiffSource(t.versionId)}}},[n("v-list-item-avatar",{attrs:{size:"24"}},[n("v-avatar",[e._v("A")])],1),n("v-list-item-title",[e._v("Set as Differencing Source")])],1),n("v-list-item",{attrs:{disabled:t.versionId<=e.diffSource&&0!==t.versionId},on:{click:function(n){return e.setDiffTarget(t.versionId)}}},[n("v-list-item-avatar",{attrs:{size:"24"}},[n("v-avatar",[e._v("B")])],1),n("v-list-item-title",[e._v("Set as Differencing Target")])],1),n("v-list-item",{on:{click:function(n){return e.viewSource(t.versionId)}}},[n("v-list-item-avatar",{attrs:{size:"24"}},[n("v-icon",[e._v("mdi-code-tags")])],1),n("v-list-item-title",[e._v("View Source")])],1),n("v-list-item",{on:{click:function(n){return e.download(t.versionId)}}},[n("v-list-item-avatar",{attrs:{size:"24"}},[n("v-icon",[e._v("mdi-cloud-download-outline")])],1),n("v-list-item-title",[e._v("Download Version")])],1),n("v-list-item",{attrs:{disabled:0===t.versionId},on:{click:function(n){return e.restore(t.versionId,t.versionDate)}}},[n("v-list-item-avatar",{attrs:{size:"24"}},[n("v-icon",{attrs:{disabled:0===t.versionId}},[e._v("mdi-history")])],1),n("v-list-item-title",[e._v("Restore")])],1),n("v-list-item",{on:{click:function(n){return e.branchOff(t.versionId)}}},[n("v-list-item-avatar",{attrs:{size:"24"}},[n("v-icon",[e._v("mdi-source-branch")])],1),n("v-list-item-title",[e._v("Branch off from here")])],1)],1)],1),n("v-btn",{staticClass:"mr-2 radius-4",class:e.diffSource===t.versionId?"pink white--text":e.$vuetify.theme.dark?"grey darken-2":"grey lighten-2",attrs:{icon:"",small:"",depressed:"",tile:"",disabled:t.versionId>=e.diffTarget&&0!==e.diffTarget||0===t.versionId},on:{click:function(n){return e.setDiffSource(t.versionId)}}},[n("strong",[e._v("A")])]),n("v-btn",{staticClass:"mr-0 radius-4",class:e.diffTarget===t.versionId?"pink white--text":e.$vuetify.theme.dark?"grey darken-2":"grey lighten-2",attrs:{icon:"",small:"",depressed:"",tile:"",disabled:t.versionId<=e.diffSource&&0!==t.versionId},on:{click:function(n){return e.setDiffTarget(t.versionId)}}},[n("strong",[e._v("B")])])],1)],1)],1)})),1),e.total>e.trail.length?n("v-btn",{staticClass:"ma-0 radius-7",attrs:{block:"",color:"primary"},on:{click:e.loadMore}},[n("div",{staticClass:"caption white--text"},[e._v("Load More...")])]):n("v-chip",{staticClass:"ma-0",class:e.$vuetify.theme.dark?"grey--text text--lighten-2":"grey--text text--darken-2",attrs:{label:"",small:"",color:e.$vuetify.theme.dark?"grey darken-2":"grey lighten-2"}},[e._v("End of history trail")])],1),n("v-flex",{attrs:{xs12:"",md8:""}},[n("v-card",{staticClass:"radius-7",class:e.$vuetify.breakpoint.mdAndUp?"mt-8":""},[n("v-card-text",[n("v-card",{staticClass:"grey radius-7",class:e.$vuetify.theme.dark?"darken-2":"lighten-4",attrs:{flat:""}},[n("v-row",{attrs:{"no-gutters":"",align:"center"}},[n("v-col",[n("v-card-text",[n("div",{staticClass:"subheading"},[e._v(e._s(e.target.title))]),n("div",{staticClass:"caption"},[e._v(e._s(e.target.description))])])],1),e.$vuetify.breakpoint.mdAndUp?n("v-col",{staticClass:"text-right py-3",attrs:{cols:"2"}},[n("v-btn",{staticClass:"mr-3",attrs:{color:e.$vuetify.theme.dark?"white":"grey darken-3",small:"",dark:"",outlined:""},on:{click:e.toggleViewMode}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-eye")]),n("div",{staticClass:"overline"},[e._v("View Mode")])],1)],1):e._e()],1)],1),n("v-card",{staticClass:"mt-3",attrs:{light:"",flat:""},domProps:{innerHTML:e._s(e.diffHTML)}})],1)],1)],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"650",persistent:""},model:{value:e.isRestoreConfirmDialogShown,callback:function(t){e.isRestoreConfirmDialogShown=t},expression:"isRestoreConfirmDialogShown"}},[n("v-card",[n("div",{staticClass:"dialog-header is-orange"},[e._v(e._s(e.$t("history:restore.confirmTitle")))]),n("v-card-text",{staticClass:"pa-4"},[n("i18next",{attrs:{tag:"span",path:"history:restore.confirmText"}},[n("strong",{attrs:{place:"date"}},[e._v(e._s(e._f("moment")(e.restoreTarget.versionDate,"LLL")))])])],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:"",disabled:e.restoreLoading},on:{click:function(t){e.isRestoreConfirmDialogShown=!1}}},[e._v(e._s(e.$t("common:actions.cancel")))]),n("v-btn",{attrs:{color:"orange darken-2",dark:"",loading:e.restoreLoading},on:{click:e.restoreConfirm}},[e._v(e._s(e.$t("history:restore.confirmButton")))])],1)],1)],1),n("page-selector",{attrs:{mode:"create","open-handler":e.branchOffHandle,path:e.branchOffOpts.path,locale:e.branchOffOpts.locale},model:{value:e.branchOffOpts.modal,callback:function(t){e.$set(e.branchOffOpts,"modal",t)},expression:"branchOffOpts.modal"}}),n("nav-footer"),n("notify"),n("search-results")],1)};i._withStripped=!0;var r=n("./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./client/components/history.vue?vue&type=script&lang=js&").a,s=(n("./client/components/history.vue?vue&type=style&index=0&lang=scss&"),n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),a=n("./node_modules/vuetify-loader/lib/runtime/installComponents.js"),o=n.n(a),l=n("./node_modules/vuetify/lib/components/VApp/VApp.js"),d=n("./node_modules/vuetify/lib/components/VAvatar/VAvatar.js"),u=n("./node_modules/vuetify/lib/components/VBtn/VBtn.js"),c=n("./node_modules/vuetify/lib/components/VCard/VCard.js"),f=n("./node_modules/vuetify/lib/components/VCard/index.js"),h=n("./node_modules/vuetify/lib/components/VChip/VChip.js"),p=n("./node_modules/vuetify/lib/components/VGrid/VCol.js"),m=n("./node_modules/vuetify/lib/components/VGrid/VContainer.js"),v=n("./node_modules/vuetify/lib/components/VContent/VContent.js"),g=n("./node_modules/vuetify/lib/components/VDialog/VDialog.js"),b=n("./node_modules/vuetify/lib/components/VDivider/VDivider.js"),y=n("./node_modules/vuetify/lib/components/VGrid/VFlex.js"),w=n("./node_modules/vuetify/lib/components/VIcon/VIcon.js"),k=n("./node_modules/vuetify/lib/components/VGrid/VLayout.js"),_=n("./node_modules/vuetify/lib/components/VList/VList.js"),S=n("./node_modules/vuetify/lib/components/VList/VListItem.js"),N=n("./node_modules/vuetify/lib/components/VList/VListItemAvatar.js"),C=n("./node_modules/vuetify/lib/components/VList/index.js"),x=n("./node_modules/vuetify/lib/components/VMenu/VMenu.js"),L=n("./node_modules/vuetify/lib/components/VGrid/VRow.js"),T=n("./node_modules/vuetify/lib/components/VGrid/VSpacer.js"),j=n("./node_modules/vuetify/lib/components/VTimeline/VTimeline.js"),I=n("./node_modules/vuetify/lib/components/VTimeline/VTimelineItem.js"),O=n("./node_modules/vuetify/lib/components/VToolbar/VToolbar.js"),E=Object(s.a)(r,i,[],!1,null,null,null);o()(E,{VApp:l.a,VAvatar:d.a,VBtn:u.a,VCard:c.a,VCardActions:f.a,VCardText:f.b,VChip:h.a,VCol:p.a,VContainer:m.a,VContent:v.a,VDialog:g.a,VDivider:b.a,VFlex:y.a,VIcon:w.a,VLayout:k.a,VList:_.a,VListItem:S.a,VListItemAvatar:N.a,VListItemTitle:C.d,VMenu:x.a,VRow:L.a,VSpacer:T.a,VTimeline:j.a,VTimelineItem:I.a,VToolbar:O.a}),E.options.__file="client/components/history.vue";t.default=E.exports},"./client/components/history.vue?vue&type=style&index=0&lang=scss&":function(e,t,n){"use strict";n("./node_modules/cache-loader/dist/cjs.js?!./node_modules/style-loader/dist/cjs.js!./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/sass-resources-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!./client/components/history.vue?vue&type=style&index=0&lang=scss&")},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./client/components/history.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";(function(e){var i=n("./node_modules/lodash/initial.js"),r=n.n(i),s=n("./node_modules/lodash/head.js"),a=n.n(s),o=n("./node_modules/lodash/get.js"),l=n.n(o),d=n("./node_modules/lodash/find.js"),u=n.n(d),c=n("./node_modules/diff2html/lib/diff2html.js"),f=n("./node_modules/diff/dist/diff.js");t.a={i18nOptions:{namespaces:"history"},props:{pageId:{type:Number,default:0},locale:{type:String,default:"en"},path:{type:String,default:"home"},title:{type:String,default:"Untitled Page"},description:{type:String,default:""},createdAt:{type:String,default:""},updatedAt:{type:String,default:""},tags:{type:Array,default:()=>[]},authorName:{type:String,default:"Unknown"},authorId:{type:Number,default:0},isPublished:{type:Boolean,default:!1},liveContent:{type:String,default:""},effectivePermissions:{type:String,default:""}},data:()=>({source:{versionId:0,content:"",title:"",description:""},target:{versionId:0,content:"",title:"",description:""},trail:[],diffSource:0,diffTarget:0,offsetPage:0,total:0,viewMode:"line-by-line",cache:[],restoreTarget:{versionId:0,versionDate:""},branchOffOpts:{versionId:0,locale:"en",path:"new-page",modal:!1},isRestoreConfirmDialogShown:!1,restoreLoading:!1}),computed:{fullTrail(){const e={versionId:0,authorId:this.authorId,authorName:this.authorName,actionType:"live",valueBefore:null,valueAfter:null,versionDate:this.updatedAt},t=u()(this.cache,["versionId",l()(this.trail,"[0].versionId",-1)]);return t&&this.path!==t.path&&(e.actionType="move",e.valueBefore=t.path,e.valueAfter=this.path),[e,...this.trail]},diffs(){return Object(f.createPatch)("/"+this.path,this.source.content,this.target.content)},diffHTML(){return c.html(this.diffs,{inputFormat:"diff",drawFileList:!1,matching:"lines",outputFormat:this.viewMode})}},watch:{trail(e,t){e&&e.length>0&&(this.diffTarget=0,this.diffSource=l()(a()(e),"versionId",0))},async diffSource(e,t){if(this.diffSource!==this.source.versionId){const t=u()(this.cache,{versionId:e});this.source=t||await this.loadVersion(e)}},async diffTarget(e,t){if(this.diffTarget!==this.target.versionId){const t=u()(this.cache,{versionId:e});this.target=t||await this.loadVersion(e)}}},created(){this.$store.commit("page/SET_ID",this.id),this.$store.commit("page/SET_LOCALE",this.locale),this.$store.commit("page/SET_PATH",this.path),this.$store.commit("page/SET_MODE","history"),this.cache.push({action:"live",authorId:this.authorId,authorName:this.authorName,content:this.liveContent,contentType:"",createdAt:this.createdAt,description:this.description,editor:"",isPrivate:!1,isPublished:this.isPublished,locale:this.locale,pageId:this.pageId,path:this.path,publishEndDate:"",publishStartDate:"",tags:this.tags,title:this.title,versionId:0,versionDate:this.updatedAt}),this.target=this.cache[0],this.effectivePermissions&&this.$store.set("page/effectivePermissions",JSON.parse(e.from(this.effectivePermissions,"base64").toString()))},methods:{async loadVersion(e){this.$store.commit("loadingStart","history-version-"+e);const t=await this.$apollo.query({query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"versionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"version"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pageId"},value:{kind:"Variable",name:{kind:"Name",value:"pageId"}}},{kind:"Argument",name:{kind:"Name",value:"versionId"},value:{kind:"Variable",name:{kind:"Name",value:"versionId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"versionDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPrivate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPublished"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locale"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishEndDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"versionId"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:674,source:{body:"\n          query ($pageId: Int!, $versionId: Int!) {\n            pages {\n              version (pageId: $pageId, versionId: $versionId) {\n                action\n                authorId\n                authorName\n                content\n                contentType\n                createdAt\n                versionDate\n                description\n                editor\n                isPrivate\n                isPublished\n                locale\n                pageId\n                path\n                publishEndDate\n                publishStartDate\n                tags\n                title\n                versionId\n              }\n            }\n          }\n        ",name:"GraphQL request",locationOffset:{line:1,column:1}}}},variables:{versionId:e,pageId:this.pageId}});this.$store.commit("loadingStop","history-version-"+e);const n=l()(t,"data.pages.version",null);return n?(this.cache.push(n),n):{content:""}},viewSource(e){window.location.assign(`/s/${this.locale}/${this.path}?v=${e}`)},download(e){window.location.assign(`/d/${this.locale}/${this.path}?v=${e}`)},restore(e,t){this.restoreTarget={versionId:e,versionDate:t},this.isRestoreConfirmDialogShown=!0},async restoreConfirm(){this.restoreLoading=!0,this.$store.commit("loadingStart","history-restore");try{const e=await this.$apollo.mutate({mutation:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"versionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"restore"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pageId"},value:{kind:"Variable",name:{kind:"Name",value:"pageId"}}},{kind:"Argument",name:{kind:"Name",value:"versionId"},value:{kind:"Variable",name:{kind:"Name",value:"versionId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"responseResult"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"succeeded"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errorCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:373,source:{body:"\n            mutation ($pageId: Int!, $versionId: Int!) {\n              pages {\n                restore (pageId: $pageId, versionId: $versionId) {\n                  responseResult {\n                    succeeded\n                    errorCode\n                    slug\n                    message\n                  }\n                }\n              }\n            }\n          ",name:"GraphQL request",locationOffset:{line:1,column:1}}}},variables:{versionId:this.restoreTarget.versionId,pageId:this.pageId}});if(!0!==l()(e,"data.pages.restore.responseResult.succeeded",!1))throw new Error(l()(e,"data.pages.restore.responseResult.message","An unexpected error occurred"));this.$store.commit("showNotification",{style:"success",message:this.$t("history:restore.success"),icon:"check"}),this.isRestoreConfirmDialogShown=!1,setTimeout(()=>{window.location.assign(`/${this.locale}/${this.path}`)},1e3)}catch(e){this.$store.commit("showNotification",{style:"red",message:e.message,icon:"alert"})}this.$store.commit("loadingStop","history-restore"),this.restoreLoading=!1},branchOff(e){const t=this.path.split("/");this.branchOffOpts={versionId:e,locale:this.locale,path:t.length>1?r()(t).join("/")+"/new-page":"new-page",modal:!0}},branchOffHandle({locale:e,path:t}){window.location.assign(`/e/${e}/${t}?from=${this.pageId},${this.branchOffOpts.versionId}`)},toggleViewMode(){this.viewMode="line-by-line"===this.viewMode?"side-by-side":"line-by-line"},goLive(){window.location.assign("/"+this.path)},setDiffSource(e){this.diffSource=e},setDiffTarget(e){this.diffTarget=e},loadMore(){this.offsetPage++,this.$apollo.queries.trail.fetchMore({variables:{id:this.pageId,offsetPage:this.offsetPage,offsetSize:this.$vuetify.breakpoint.mdAndUp?25:5},updateQuery:(e,{fetchMoreResult:t})=>({pages:{history:{total:e.pages.history.total,trail:[...e.pages.history.trail,...t.pages.history.trail],__typename:e.pages.history.__typename},__typename:e.pages.__typename}})})},trailColor(e){switch(e){case"edit":return"primary";case"move":return"purple";case"initial":return"teal";case"live":return"orange";default:return"grey"}},trailIcon(e){switch(e){case"edit":return"";case"move":return"mdi-forward";case"initial":return"mdi-plus";case"live":return"mdi-atom-variant";default:return"mdi-alert"}},trailBgColor(e){switch(e){case"move":return this.$vuetify.theme.dark?"purple":"purple lighten-5";case"initial":return this.$vuetify.theme.dark?"teal darken-3":"teal lighten-5";case"live":return this.$vuetify.theme.dark?"orange darken-3":"orange lighten-5";default:return this.$vuetify.theme.dark?"grey darken-3":"grey lighten-4"}}},apollo:{trail:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offsetPage"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offsetSize"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"history"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"offsetPage"},value:{kind:"Variable",name:{kind:"Name",value:"offsetPage"}}},{kind:"Argument",name:{kind:"Name",value:"offsetSize"},value:{kind:"Variable",name:{kind:"Name",value:"offsetSize"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trail"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"versionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"valueBefore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"valueAfter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"versionDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:448,source:{body:"\n        query($id: Int!, $offsetPage: Int, $offsetSize: Int) {\n          pages {\n            history(id:$id, offsetPage:$offsetPage, offsetSize:$offsetSize) {\n              trail {\n                versionId\n                authorId\n                authorName\n                actionType\n                valueBefore\n                valueAfter\n                versionDate\n              }\n              total\n            }\n          }\n        }\n      ",name:"GraphQL request",locationOffset:{line:1,column:1}}}},variables(){return{id:this.pageId,offsetPage:0,offsetSize:this.$vuetify.breakpoint.mdAndUp?25:5}},manual:!0,result({data:e,loading:t,networkStatus:n}){this.total=e.pages.history.total,this.trail=e.pages.history.trail},watchLoading(e){this.$store.commit("loading"+(e?"Start":"Stop"),"history-trail-refresh")}}}}}).call(this,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/style-loader/dist/cjs.js!./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/sass-resources-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!./client/components/history.vue?vue&type=style&index=0&lang=scss&":function(e,t,n){var i=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/sass-resources-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!./client/components/history.vue?vue&type=style&index=0&lang=scss&");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1};i(r,s);e.exports=r.locals||{}},"./node_modules/diff/dist/diff.js":function(e,t,n){
/*!

 diff v4.0.1

Software License Agreement (BSD License)

Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>

All rights reserved.

Redistribution and use of this software in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above
  copyright notice, this list of conditions and the
  following disclaimer.

* Redistributions in binary form must reproduce the above
  copyright notice, this list of conditions and the
  following disclaimer in the documentation and/or other
  materials provided with the distribution.

* Neither the name of Kevin Decker nor the names of its
  contributors may be used to endorse or promote products
  derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
@license
*/
!function(e){"use strict";function t(){}function n(e,t,n,i,r){for(var s=0,a=t.length,o=0,l=0;s<a;s++){var d=t[s];if(d.removed){if(d.value=e.join(i.slice(l,l+d.count)),l+=d.count,s&&t[s-1].added){var u=t[s-1];t[s-1]=t[s],t[s]=u}}else{if(!d.added&&r){var c=n.slice(o,o+d.count);c=c.map((function(e,t){var n=i[l+t];return n.length>e.length?n:e})),d.value=e.join(c)}else d.value=e.join(n.slice(o,o+d.count));o+=d.count,d.added||(l+=d.count)}}var f=t[a-1];return a>1&&"string"==typeof f.value&&(f.added||f.removed)&&e.equals("",f.value)&&(t[a-2].value+=f.value,t.pop()),t}function i(e){return{newPos:e.newPos,components:e.components.slice(0)}}t.prototype={diff:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=r.callback;"function"==typeof r&&(s=r,r={}),this.options=r;var a=this;function o(e){return s?(setTimeout((function(){s(void 0,e)}),0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var l=(t=this.removeEmpty(this.tokenize(t))).length,d=e.length,u=1,c=l+d,f=[{newPos:-1,components:[]}],h=this.extractCommon(f[0],t,e,0);if(f[0].newPos+1>=l&&h+1>=d)return o([{value:this.join(t),count:t.length}]);function p(){for(var r=-1*u;r<=u;r+=2){var s=void 0,c=f[r-1],h=f[r+1],p=(h?h.newPos:0)-r;c&&(f[r-1]=void 0);var m=c&&c.newPos+1<l,v=h&&0<=p&&p<d;if(m||v){if(!m||v&&c.newPos<h.newPos?(s=i(h),a.pushComponent(s.components,void 0,!0)):((s=c).newPos++,a.pushComponent(s.components,!0,void 0)),p=a.extractCommon(s,t,e,r),s.newPos+1>=l&&p+1>=d)return o(n(a,s.components,t,e,a.useLongestToken));f[r]=s}else f[r]=void 0}u++}if(s)!function e(){setTimeout((function(){if(u>c)return s();p()||e()}),0)}();else for(;u<=c;){var m=p();if(m)return m}},pushComponent:function(e,t,n){var i=e[e.length-1];i&&i.added===t&&i.removed===n?e[e.length-1]={count:i.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,i){for(var r=t.length,s=n.length,a=e.newPos,o=a-i,l=0;a+1<r&&o+1<s&&this.equals(t[a+1],n[o+1]);)a++,o++,l++;return l&&e.components.push({count:l}),e.newPos=a,o},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};var r=new t;function s(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var a=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,o=/\S/,l=new t;l.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!o.test(e)&&!o.test(t)},l.tokenize=function(e){for(var t=e.split(/(\s+|[()[\]{}'"]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&a.test(t[n])&&a.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var d=new t;function u(e,t,n){return d.diff(e,t,n)}d.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var r=n[i];i%2&&!this.options.newlineIsToken?t[t.length-1]+=r:(this.options.ignoreWhitespace&&(r=r.trim()),t.push(r))}return t};var c=new t;c.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var f=new t;function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}f.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var m=Object.prototype.toString,v=new t;function g(e,t,n,i,r){var s,a;for(t=t||[],n=n||[],i&&(e=i(r,e)),s=0;s<t.length;s+=1)if(t[s]===e)return n[s];if("[object Array]"===m.call(e)){for(t.push(e),a=new Array(e.length),n.push(a),s=0;s<e.length;s+=1)a[s]=g(e[s],t,n,i,r);return t.pop(),n.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),"object"===h(e)&&null!==e){t.push(e),a={},n.push(a);var o,l=[];for(o in e)e.hasOwnProperty(o)&&l.push(o);for(l.sort(),s=0;s<l.length;s+=1)a[o=l[s]]=g(e[o],t,n,i,o);t.pop(),n.pop()}else a=e;return a}v.useLongestToken=!0,v.tokenize=d.tokenize,v.castInput=function(e){var t=this.options,n=t.undefinedReplacement,i=t.stringifyReplacer,r=void 0===i?function(e,t){return void 0===t?n:t}:i;return"string"==typeof e?e:JSON.stringify(g(e,null,null,r),r,"  ")},v.equals=function(e,n){return t.prototype.equals.call(v,e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};var b=new t;function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.split(/\r\n|[\n\v\f\r\x85]/),i=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],r=[],s=0;function a(){var e={};for(r.push(e);s<n.length;){var i=n[s];if(/^(\-\-\-|\+\+\+|@@)\s/.test(i))break;var a=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(i);a&&(e.index=a[1]),s++}for(o(e),o(e),e.hunks=[];s<n.length;){var d=n[s];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(d))break;if(/^@@/.test(d))e.hunks.push(l());else{if(d&&t.strict)throw new Error("Unknown line "+(s+1)+" "+JSON.stringify(d));s++}}}function o(e){var t=/^(---|\+\+\+)\s+(.*)$/.exec(n[s]);if(t){var i="---"===t[1]?"old":"new",r=t[2].split("\t",2),a=r[0].replace(/\\\\/g,"\\");/^".*"$/.test(a)&&(a=a.substr(1,a.length-2)),e[i+"FileName"]=a,e[i+"Header"]=(r[1]||"").trim(),s++}}function l(){for(var e=s,r=n[s++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),a={oldStart:+r[1],oldLines:+r[2]||1,newStart:+r[3],newLines:+r[4]||1,lines:[],linedelimiters:[]},o=0,l=0;s<n.length&&!(0===n[s].indexOf("--- ")&&s+2<n.length&&0===n[s+1].indexOf("+++ ")&&0===n[s+2].indexOf("@@"));s++){var d=0==n[s].length&&s!=n.length-1?" ":n[s][0];if("+"!==d&&"-"!==d&&" "!==d&&"\\"!==d)break;a.lines.push(n[s]),a.linedelimiters.push(i[s]||"\n"),"+"===d?o++:"-"===d?l++:" "===d&&(o++,l++)}if(o||1!==a.newLines||(a.newLines=0),l||1!==a.oldLines||(a.oldLines=0),t.strict){if(o!==a.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(l!==a.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return a}for(;s<n.length;)a();return r}function w(e,t,n){var i=!0,r=!1,s=!1,a=1;return function o(){if(i&&!s){if(r?a++:i=!1,e+a<=n)return a;s=!0}if(!r)return s||(i=!0),t<=e-a?-a++:(r=!0,o())}}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t&&(t=y(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var i,r,s=e.split(/\r\n|[\n\v\f\r\x85]/),a=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=t.hunks,l=n.compareLine||function(e,t,n,i){return t===i},d=0,u=n.fuzzFactor||0,c=0,f=0;function h(e,t){for(var n=0;n<e.lines.length;n++){var i=e.lines[n],r=i.length>0?i[0]:" ",a=i.length>0?i.substr(1):i;if(" "===r||"-"===r){if(!l(t+1,s[t],r,a)&&++d>u)return!1;t++}}return!0}for(var p=0;p<o.length;p++){for(var m=o[p],v=s.length-m.oldLines,g=0,b=f+m.oldStart-1,k=w(b,c,v);void 0!==g;g=k())if(h(m,b+g)){m.offset=f+=g;break}if(void 0===g)return!1;c=m.offset+m.oldStart+m.oldLines}for(var _=0,S=0;S<o.length;S++){var N=o[S],C=N.oldStart+N.offset+_-1;_+=N.newLines-N.oldLines,C<0&&(C=0);for(var x=0;x<N.lines.length;x++){var L=N.lines[x],T=L.length>0?L[0]:" ",j=L.length>0?L.substr(1):L,I=N.linedelimiters[x];if(" "===T)C++;else if("-"===T)s.splice(C,1),a.splice(C,1);else if("+"===T)s.splice(C,0,j),a.splice(C,0,I),C++;else if("\\"===T){var O=N.lines[x-1]?N.lines[x-1][0]:null;"+"===O?i=!0:"-"===O&&(r=!0)}}}if(i)for(;!s[s.length-1];)s.pop(),a.pop();else r&&(s.push(""),a.push("\n"));for(var E=0;E<s.length-1;E++)s[E]=s[E]+a[E];return s.join("")}function _(e,t,n,i,r,s,a){a||(a={}),void 0===a.context&&(a.context=4);var o=u(n,i,a);function l(e){return e.map((function(e){return" "+e}))}o.push({value:"",lines:[]});for(var d=[],c=0,f=0,h=[],m=1,v=1,g=function(e){var t=o[e],r=t.lines||t.value.replace(/\n$/,"").split("\n");if(t.lines=r,t.added||t.removed){var s;if(!c){var u=o[e-1];c=m,f=v,u&&(h=a.context>0?l(u.lines.slice(-a.context)):[],c-=h.length,f-=h.length)}(s=h).push.apply(s,p(r.map((function(e){return(t.added?"+":"-")+e})))),t.added?v+=r.length:m+=r.length}else{if(c)if(r.length<=2*a.context&&e<o.length-2){var g;(g=h).push.apply(g,p(l(r)))}else{var b,y=Math.min(r.length,a.context);(b=h).push.apply(b,p(l(r.slice(0,y))));var w={oldStart:c,oldLines:m-c+y,newStart:f,newLines:v-f+y,lines:h};if(e>=o.length-2&&r.length<=a.context){var k=/\n$/.test(n),_=/\n$/.test(i),S=0==r.length&&h.length>w.oldLines;!k&&S&&h.splice(w.oldLines,0,"\\ No newline at end of file"),(k||S)&&_||h.push("\\ No newline at end of file")}d.push(w),c=0,f=0,h=[]}m+=r.length,v+=r.length}},b=0;b<o.length;b++)g(b);return{oldFileName:e,newFileName:t,oldHeader:r,newHeader:s,hunks:d}}function S(e,t,n,i,r,s,a){var o=_(e,t,n,i,r,s,a),l=[];e==t&&l.push("Index: "+e),l.push("==================================================================="),l.push("--- "+o.oldFileName+(void 0===o.oldHeader?"":"\t"+o.oldHeader)),l.push("+++ "+o.newFileName+(void 0===o.newHeader?"":"\t"+o.newHeader));for(var d=0;d<o.hunks.length;d++){var u=o.hunks[d];l.push("@@ -"+u.oldStart+","+u.oldLines+" +"+u.newStart+","+u.newLines+" @@"),l.push.apply(l,u.lines)}return l.join("\n")+"\n"}function N(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function C(e){var t=function e(t){var n=0,i=0;return t.forEach((function(t){if("string"!=typeof t){var r=e(t.mine),s=e(t.theirs);void 0!==n&&(r.oldLines===s.oldLines?n+=r.oldLines:n=void 0),void 0!==i&&(r.newLines===s.newLines?i+=r.newLines:i=void 0)}else void 0===i||"+"!==t[0]&&" "!==t[0]||i++,void 0===n||"-"!==t[0]&&" "!==t[0]||n++})),{oldLines:n,newLines:i}}(e.lines),n=t.oldLines,i=t.newLines;void 0!==n?e.oldLines=n:delete e.oldLines,void 0!==i?e.newLines=i:delete e.newLines}function x(e,t){if("string"==typeof e){if(/^@@/m.test(e)||/^Index:/m.test(e))return y(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return _(void 0,void 0,t,e)}return e}function L(e){return e.newFileName&&e.newFileName!==e.oldFileName}function T(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}function j(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function I(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function O(e,t,n,i,r){var s={offset:t,lines:n,index:0},a={offset:i,lines:r,index:0};for(V(e,s,a),V(e,a,s);s.index<s.lines.length&&a.index<a.lines.length;){var o=s.lines[s.index],l=a.lines[a.index];if("-"!==o[0]&&"+"!==o[0]||"-"!==l[0]&&"+"!==l[0])if("+"===o[0]&&" "===l[0]){var d;(d=e.lines).push.apply(d,p(H(s)))}else if("+"===l[0]&&" "===o[0]){var u;(u=e.lines).push.apply(u,p(H(a)))}else"-"===o[0]&&" "===l[0]?F(e,s,a):"-"===l[0]&&" "===o[0]?F(e,a,s,!0):o===l?(e.lines.push(o),s.index++,a.index++):D(e,H(s),H(a));else E(e,s,a)}P(e,s),P(e,a),C(e)}function E(e,t,n){var i,r,s=H(t),a=H(n);if(M(s)&&M(a)){var o,l;if(N(s,a)&&A(n,s,s.length-a.length))return void(o=e.lines).push.apply(o,p(s));if(N(a,s)&&A(t,a,a.length-s.length))return void(l=e.lines).push.apply(l,p(a))}else if(r=a,(i=s).length===r.length&&N(i,r)){var d;return void(d=e.lines).push.apply(d,p(s))}D(e,s,a)}function F(e,t,n,i){var r,s=H(t),a=function(e,t){for(var n=[],i=[],r=0,s=!1,a=!1;r<t.length&&e.index<e.lines.length;){var o=e.lines[e.index],l=t[r];if("+"===l[0])break;if(s=s||" "!==o[0],i.push(l),r++,"+"===o[0])for(a=!0;"+"===o[0];)n.push(o),o=e.lines[++e.index];l.substr(1)===o.substr(1)?(n.push(o),e.index++):a=!0}if("+"===(t[r]||"")[0]&&s&&(a=!0),a)return n;for(;r<t.length;)i.push(t[r++]);return{merged:i,changes:n}}(n,s);a.merged?(r=e.lines).push.apply(r,p(a.merged)):D(e,i?a:s,i?s:a)}function D(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}function V(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var i=t.lines[t.index++];e.lines.push(i),t.offset++}}function P(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}function H(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var i=e.lines[e.index];if("-"===n&&"+"===i[0]&&(n="+"),n!==i[0])break;t.push(i),e.index++}return t}function M(e){return e.reduce((function(e,t){return e&&"-"===t[0]}),!0)}function A(e,t,n){for(var i=0;i<n;i++){var r=t[t.length-n+i].substr(1);if(e.lines[e.index+i]!==" "+r)return!1}return e.index+=n,!0}b.tokenize=function(e){return e.slice()},b.join=b.removeEmpty=function(e){return e},e.Diff=t,e.diffChars=function(e,t,n){return r.diff(e,t,n)},e.diffWords=function(e,t,n){return n=s(n,{ignoreWhitespace:!0}),l.diff(e,t,n)},e.diffWordsWithSpace=function(e,t,n){return l.diff(e,t,n)},e.diffLines=u,e.diffTrimmedLines=function(e,t,n){var i=s(n,{ignoreWhitespace:!0});return d.diff(e,t,i)},e.diffSentences=function(e,t,n){return c.diff(e,t,n)},e.diffCss=function(e,t,n){return f.diff(e,t,n)},e.diffJson=function(e,t,n){return v.diff(e,t,n)},e.diffArrays=function(e,t,n){return b.diff(e,t,n)},e.structuredPatch=_,e.createTwoFilesPatch=S,e.createPatch=function(e,t,n,i,r,s){return S(e,e,t,n,i,r,s)},e.applyPatch=k,e.applyPatches=function(e,t){"string"==typeof e&&(e=y(e));var n=0;!function i(){var r=e[n++];if(!r)return t.complete();t.loadFile(r,(function(e,n){if(e)return t.complete(e);var s=k(n,r,t);t.patched(r,s,(function(e){if(e)return t.complete(e);i()}))}))}()},e.parsePatch=y,e.merge=function(e,t,n){e=x(e,n),t=x(t,n);var i={};(e.index||t.index)&&(i.index=e.index||t.index),(e.newFileName||t.newFileName)&&(L(e)?L(t)?(i.oldFileName=T(i,e.oldFileName,t.oldFileName),i.newFileName=T(i,e.newFileName,t.newFileName),i.oldHeader=T(i,e.oldHeader,t.oldHeader),i.newHeader=T(i,e.newHeader,t.newHeader)):(i.oldFileName=e.oldFileName,i.newFileName=e.newFileName,i.oldHeader=e.oldHeader,i.newHeader=e.newHeader):(i.oldFileName=t.oldFileName||e.oldFileName,i.newFileName=t.newFileName||e.newFileName,i.oldHeader=t.oldHeader||e.oldHeader,i.newHeader=t.newHeader||e.newHeader)),i.hunks=[];for(var r=0,s=0,a=0,o=0;r<e.hunks.length||s<t.hunks.length;){var l=e.hunks[r]||{oldStart:1/0},d=t.hunks[s]||{oldStart:1/0};if(j(l,d))i.hunks.push(I(l,a)),r++,o+=l.newLines-l.oldLines;else if(j(d,l))i.hunks.push(I(d,o)),s++,a+=d.newLines-d.oldLines;else{var u={oldStart:Math.min(l.oldStart,d.oldStart),oldLines:0,newStart:Math.min(l.newStart+a,d.oldStart+o),newLines:0,lines:[]};O(u,l.oldStart,l.lines,d.oldStart,d.lines),s++,r++,i.hunks.push(u)}}return i},e.convertChangesToDMP=function(e){for(var t,n,i=[],r=0;r<e.length;r++)n=(t=e[r]).added?1:t.removed?-1:0,i.push([n,t.value]);return i},e.convertChangesToXML=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i.added?t.push("<ins>"):i.removed&&t.push("<del>"),t.push((r=i.value,void 0,r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))),i.added?t.push("</ins>"):i.removed&&t.push("</del>")}var r;return t.join("")},e.canonicalize=g,Object.defineProperty(e,"__esModule",{value:!0})}(t)},"./node_modules/diff2html/lib/diff-parser.js":function(e,t,n){"use strict";var i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,r++)i[r]=s[a];return i};Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;var r=n("./node_modules/diff2html/lib/types.js"),s=n("./node_modules/diff2html/lib/utils.js");function a(e,t){var n=e.split(".");return n.length>1?n[n.length-1]:t}function o(e,t){return t.reduce((function(t,n){return t||e.startsWith(n)}),!1)}var l=["a/","b/","i/","w/","c/","o/"];function d(e,t,n){var r=void 0!==n?i(l,[n]):l,a=((t?new RegExp("^"+s.escapeForRegExp(t)+' "?(.+?)"?$'):new RegExp('^"?(.+?)"?$')).exec(e)||[])[1],o=void 0===a?"":a,d=r.find((function(e){return 0===o.indexOf(e)}));return(d?o.slice(d.length):o).replace(/\s+\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}(?:\.\d+)? [+-]\d{4}.*$/,"")}t.parse=function(e,t){void 0===t&&(t={});var n=[],i=null,s=null,l=null,u=null,c=null,f=null,h=null,p=/^old mode (\d{6})/,m=/^new mode (\d{6})/,v=/^deleted file mode (\d{6})/,g=/^new file mode (\d{6})/,b=/^copy from "?(.+)"?/,y=/^copy to "?(.+)"?/,w=/^rename from "?(.+)"?/,k=/^rename to "?(.+)"?/,_=/^similarity index (\d+)%/,S=/^dissimilarity index (\d+)%/,N=/^index ([\da-z]+)\.\.([\da-z]+)\s*(\d{6})?/,C=/^Binary files (.*) and (.*) differ/,x=/^GIT binary patch/,L=/^index ([\da-z]+),([\da-z]+)\.\.([\da-z]+)/,T=/^mode (\d{6}),(\d{6})\.\.(\d{6})/,j=/^new file mode (\d{6})/,I=/^deleted file mode (\d{6}),(\d{6})/,O=e.replace(/\\ No newline at end of file/g,"").replace(/\r\n?/g,"\n").split("\n");function E(){null!==s&&null!==i&&(i.blocks.push(s),s=null)}function F(){null!==i&&(i.oldName||null===f||(i.oldName=f),i.newName||null===h||(i.newName=h),i.newName&&(n.push(i),i=null)),f=null,h=null}function D(){E(),F(),i={blocks:[],deletedLines:0,addedLines:0}}function V(e){var t;E(),null!==i&&((t=/^@@ -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@.*/.exec(e))?(i.isCombined=!1,l=parseInt(t[1],10),c=parseInt(t[2],10)):(t=/^@@@ -(\d+)(?:,\d+)? -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@@.*/.exec(e))?(i.isCombined=!0,l=parseInt(t[1],10),u=parseInt(t[2],10),c=parseInt(t[3],10)):(e.startsWith("@@")&&console.error("Failed to parse lines, starting in 0!"),l=0,c=0,i.isCombined=!1)),s={lines:[],oldStartLine:l,oldStartLine2:u,newStartLine:c,header:e}}return O.forEach((function(e,n){if(e&&!e.startsWith("*")){var u,E=O[n-1],F=O[n+1],P=O[n+2];if(e.startsWith("diff")){D();if((u=/^diff --git "?(.+)"? "?(.+)"?/.exec(e))&&(f=d(u[1],void 0,t.dstPrefix),h=d(u[2],void 0,t.srcPrefix)),null===i)throw new Error("Where is my file !!!");i.isGitDiff=!0}else{if((!i||!i.isGitDiff&&i&&e.startsWith("--- ")&&F.startsWith("+++ ")&&P.startsWith("@@"))&&D(),e.startsWith("--- ")&&F.startsWith("+++ ")||e.startsWith("+++ ")&&E.startsWith("--- ")){if(i&&!i.oldName&&e.startsWith("--- ")&&(u=function(e,t){return d(e,"---",t)}(e,t.srcPrefix)))return i.oldName=u,void(i.language=a(i.oldName,i.language));if(i&&!i.newName&&e.startsWith("+++ ")&&(u=function(e,t){return d(e,"+++",t)}(e,t.dstPrefix)))return i.newName=u,void(i.language=a(i.newName,i.language))}if(i&&(e.startsWith("@@")||i.isGitDiff&&i.oldName&&i.newName&&!s))V(e);else if(s&&(e.startsWith("+")||e.startsWith("-")||e.startsWith(" ")))!function(e){if(null!==i&&null!==s&&null!==l&&null!==c){var t={content:e},n=i.isCombined?["+ "," +","++"]:["+"],a=i.isCombined?["- "," -","--"]:["-"];o(e,n)?(i.addedLines++,t.type=r.LineType.INSERT,t.oldNumber=void 0,t.newNumber=c++):o(e,a)?(i.deletedLines++,t.type=r.LineType.DELETE,t.oldNumber=l++,t.newNumber=void 0):(t.type=r.LineType.CONTEXT,t.oldNumber=l++,t.newNumber=c++),s.lines.push(t)}}(e);else{var H=!function(e,t){for(var n=t;n<O.length-3;){if(e.startsWith("diff"))return!1;if(O[n].startsWith("--- ")&&O[n+1].startsWith("+++ ")&&O[n+2].startsWith("@@"))return!0;n++}return!1}(e,n);if(null===i)throw new Error("Where is my file !!!");(u=p.exec(e))?i.oldMode=u[1]:(u=m.exec(e))?i.newMode=u[1]:(u=v.exec(e))?(i.deletedFileMode=u[1],i.isDeleted=!0):(u=g.exec(e))?(i.newFileMode=u[1],i.isNew=!0):(u=b.exec(e))?(H&&(i.oldName=u[1]),i.isCopy=!0):(u=y.exec(e))?(H&&(i.newName=u[1]),i.isCopy=!0):(u=w.exec(e))?(H&&(i.oldName=u[1]),i.isRename=!0):(u=k.exec(e))?(H&&(i.newName=u[1]),i.isRename=!0):(u=C.exec(e))?(i.isBinary=!0,i.oldName=d(u[1],void 0,t.srcPrefix),i.newName=d(u[2],void 0,t.dstPrefix),V("Binary file")):x.test(e)?(i.isBinary=!0,V(e)):(u=_.exec(e))?i.unchangedPercentage=parseInt(u[1],10):(u=S.exec(e))?i.changedPercentage=parseInt(u[1],10):(u=N.exec(e))?(i.checksumBefore=u[1],i.checksumAfter=u[2],u[3]&&(i.mode=u[3])):(u=L.exec(e))?(i.checksumBefore=[u[2],u[3]],i.checksumAfter=u[1]):(u=T.exec(e))?(i.oldMode=[u[2],u[3]],i.newMode=u[1]):(u=j.exec(e))?(i.newFileMode=u[1],i.isNew=!0):(u=I.exec(e))&&(i.deletedFileMode=u[1],i.isDeleted=!0)}}}})),E(),F(),n}},"./node_modules/diff2html/lib/diff2html-templates.js":function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTemplates=void 0;var a=s(n("./node_modules/hogan.js/lib/hogan.js"));t.defaultTemplates={},t.defaultTemplates["file-summary-line"]=new a.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<li class="d2h-file-list-line">'),i.b("\n"+n),i.b('    <span class="d2h-file-name-wrapper">'),i.b("\n"+n),i.b(i.rp("<fileIcon0",e,t,"      ")),i.b('      <a href="#'),i.b(i.v(i.f("fileHtmlId",e,t,0))),i.b('" class="d2h-file-name">'),i.b(i.v(i.f("fileName",e,t,0))),i.b("</a>"),i.b("\n"+n),i.b('      <span class="d2h-file-stats">'),i.b("\n"+n),i.b('          <span class="d2h-lines-added">'),i.b(i.v(i.f("addedLines",e,t,0))),i.b("</span>"),i.b("\n"+n),i.b('          <span class="d2h-lines-deleted">'),i.b(i.v(i.f("deletedLines",e,t,0))),i.b("</span>"),i.b("\n"+n),i.b("      </span>"),i.b("\n"+n),i.b("    </span>"),i.b("\n"+n),i.b("</li>"),i.fl()},partials:{"<fileIcon0":{name:"fileIcon",partials:{},subs:{}}},subs:{}}),t.defaultTemplates["file-summary-wrapper"]=new a.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div class="d2h-file-list-wrapper">'),i.b("\n"+n),i.b('    <div class="d2h-file-list-header">'),i.b("\n"+n),i.b('        <span class="d2h-file-list-title">Files changed ('),i.b(i.v(i.f("filesNumber",e,t,0))),i.b(")</span>"),i.b("\n"+n),i.b('        <a class="d2h-file-switch d2h-hide">hide</a>'),i.b("\n"+n),i.b('        <a class="d2h-file-switch d2h-show">show</a>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b('    <ol class="d2h-file-list">'),i.b("\n"+n),i.b("    "),i.b(i.t(i.f("files",e,t,0))),i.b("\n"+n),i.b("    </ol>"),i.b("\n"+n),i.b("</div>"),i.fl()},partials:{},subs:{}}),t.defaultTemplates["generic-block-header"]=new a.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b("<tr>"),i.b("\n"+n),i.b('    <td class="'),i.b(i.v(i.f("lineClass",e,t,0))),i.b(" "),i.b(i.v(i.d("CSSLineClass.INFO",e,t,0))),i.b('"></td>'),i.b("\n"+n),i.b('    <td class="'),i.b(i.v(i.d("CSSLineClass.INFO",e,t,0))),i.b('">'),i.b("\n"+n),i.b('        <div class="'),i.b(i.v(i.f("contentClass",e,t,0))),i.b(" "),i.b(i.v(i.d("CSSLineClass.INFO",e,t,0))),i.b('">'),i.b(i.t(i.f("blockHeader",e,t,0))),i.b("</div>"),i.b("\n"+n),i.b("    </td>"),i.b("\n"+n),i.b("</tr>"),i.fl()},partials:{},subs:{}}),t.defaultTemplates["generic-empty-diff"]=new a.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b("<tr>"),i.b("\n"+n),i.b('    <td class="'),i.b(i.v(i.d("CSSLineClass.INFO",e,t,0))),i.b('">'),i.b("\n"+n),i.b('        <div class="'),i.b(i.v(i.f("contentClass",e,t,0))),i.b(" "),i.b(i.v(i.d("CSSLineClass.INFO",e,t,0))),i.b('">'),i.b("\n"+n),i.b("            File without changes"),i.b("\n"+n),i.b("        </div>"),i.b("\n"+n),i.b("    </td>"),i.b("\n"+n),i.b("</tr>"),i.fl()},partials:{},subs:{}}),t.defaultTemplates["generic-file-path"]=new a.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<span class="d2h-file-name-wrapper">'),i.b("\n"+n),i.b(i.rp("<fileIcon0",e,t,"    ")),i.b('    <span class="d2h-file-name">'),i.b(i.v(i.f("fileDiffName",e,t,0))),i.b("</span>"),i.b("\n"+n),i.b(i.rp("<fileTag1",e,t,"    ")),i.b("</span>"),i.fl()},partials:{"<fileIcon0":{name:"fileIcon",partials:{},subs:{}},"<fileTag1":{name:"fileTag",partials:{},subs:{}}},subs:{}}),t.defaultTemplates["generic-line"]=new a.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b("<tr>"),i.b("\n"+n),i.b('    <td class="'),i.b(i.v(i.f("lineClass",e,t,0))),i.b(" "),i.b(i.v(i.f("type",e,t,0))),i.b('">'),i.b("\n"+n),i.b("      "),i.b(i.t(i.f("lineNumber",e,t,0))),i.b("\n"+n),i.b("    </td>"),i.b("\n"+n),i.b('    <td class="'),i.b(i.v(i.f("type",e,t,0))),i.b('">'),i.b("\n"+n),i.b('        <div class="'),i.b(i.v(i.f("contentClass",e,t,0))),i.b(" "),i.b(i.v(i.f("type",e,t,0))),i.b('">'),i.b("\n"+n),i.s(i.f("prefix",e,t,1),e,t,0,171,247,"{{ }}")&&(i.rs(e,t,(function(e,t,i){i.b('            <span class="d2h-code-line-prefix">'),i.b(i.t(i.f("prefix",e,t,0))),i.b("</span>"),i.b("\n"+n)})),e.pop()),i.s(i.f("prefix",e,t,1),e,t,1,0,0,"")||(i.b('            <span class="d2h-code-line-prefix">&nbsp;</span>'),i.b("\n"+n)),i.s(i.f("content",e,t,1),e,t,0,380,454,"{{ }}")&&(i.rs(e,t,(function(e,t,i){i.b('            <span class="d2h-code-line-ctn">'),i.b(i.t(i.f("content",e,t,0))),i.b("</span>"),i.b("\n"+n)})),e.pop()),i.s(i.f("content",e,t,1),e,t,1,0,0,"")||(i.b('            <span class="d2h-code-line-ctn"><br></span>'),i.b("\n"+n)),i.b("        </div>"),i.b("\n"+n),i.b("    </td>"),i.b("\n"+n),i.b("</tr>"),i.fl()},partials:{},subs:{}}),t.defaultTemplates["generic-wrapper"]=new a.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div class="d2h-wrapper">'),i.b("\n"+n),i.b("    "),i.b(i.t(i.f("content",e,t,0))),i.b("\n"+n),i.b("</div>"),i.fl()},partials:{},subs:{}}),t.defaultTemplates["icon-file-added"]=new a.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<svg aria-hidden="true" class="d2h-icon d2h-added" height="16" title="added" version="1.1" viewBox="0 0 14 16"'),i.b("\n"+n),i.b('     width="14">'),i.b("\n"+n),i.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path>'),i.b("\n"+n),i.b("</svg>"),i.fl()},partials:{},subs:{}}),t.defaultTemplates["icon-file-changed"]=new a.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<svg aria-hidden="true" class="d2h-icon d2h-changed" height="16" title="modified" version="1.1"'),i.b("\n"+n),i.b('     viewBox="0 0 14 16" width="14">'),i.b("\n"+n),i.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path>'),i.b("\n"+n),i.b("</svg>"),i.fl()},partials:{},subs:{}}),t.defaultTemplates["icon-file-deleted"]=new a.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<svg aria-hidden="true" class="d2h-icon d2h-deleted" height="16" title="removed" version="1.1"'),i.b("\n"+n),i.b('     viewBox="0 0 14 16" width="14">'),i.b("\n"+n),i.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM11 9H3V7h8v2z"></path>'),i.b("\n"+n),i.b("</svg>"),i.fl()},partials:{},subs:{}}),t.defaultTemplates["icon-file-renamed"]=new a.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<svg aria-hidden="true" class="d2h-icon d2h-moved" height="16" title="renamed" version="1.1"'),i.b("\n"+n),i.b('     viewBox="0 0 14 16" width="14">'),i.b("\n"+n),i.b('    <path d="M6 9H3V7h3V4l5 4-5 4V9z m8-7v12c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h12c0.55 0 1 0.45 1 1z m-1 0H1v12h12V2z"></path>'),i.b("\n"+n),i.b("</svg>"),i.fl()},partials:{},subs:{}}),t.defaultTemplates["icon-file"]=new a.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<svg aria-hidden="true" class="d2h-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12">'),i.b("\n"+n),i.b('    <path d="M6 5H2v-1h4v1zM2 8h7v-1H2v1z m0 2h7v-1H2v1z m0 2h7v-1H2v1z m10-7.5v9.5c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h7.5l3.5 3.5z m-1 0.5L8 2H1v12h10V5z"></path>'),i.b("\n"+n),i.b("</svg>"),i.fl()},partials:{},subs:{}}),t.defaultTemplates["line-by-line-file-diff"]=new a.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div id="'),i.b(i.v(i.f("fileHtmlId",e,t,0))),i.b('" class="d2h-file-wrapper" data-lang="'),i.b(i.v(i.d("file.language",e,t,0))),i.b('">'),i.b("\n"+n),i.b('    <div class="d2h-file-header">'),i.b("\n"+n),i.b("    "),i.b(i.t(i.f("filePath",e,t,0))),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b('    <div class="d2h-file-diff">'),i.b("\n"+n),i.b('        <div class="d2h-code-wrapper">'),i.b("\n"+n),i.b('            <table class="d2h-diff-table">'),i.b("\n"+n),i.b('                <tbody class="d2h-diff-tbody">'),i.b("\n"+n),i.b("                "),i.b(i.t(i.f("diffs",e,t,0))),i.b("\n"+n),i.b("                </tbody>"),i.b("\n"+n),i.b("            </table>"),i.b("\n"+n),i.b("        </div>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("</div>"),i.fl()},partials:{},subs:{}}),t.defaultTemplates["line-by-line-numbers"]=new a.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div class="line-num1">'),i.b(i.v(i.f("oldNumber",e,t,0))),i.b("</div>"),i.b("\n"+n),i.b('<div class="line-num2">'),i.b(i.v(i.f("newNumber",e,t,0))),i.b("</div>"),i.fl()},partials:{},subs:{}}),t.defaultTemplates["side-by-side-file-diff"]=new a.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div id="'),i.b(i.v(i.f("fileHtmlId",e,t,0))),i.b('" class="d2h-file-wrapper" data-lang="'),i.b(i.v(i.d("file.language",e,t,0))),i.b('">'),i.b("\n"+n),i.b('    <div class="d2h-file-header">'),i.b("\n"+n),i.b("      "),i.b(i.t(i.f("filePath",e,t,0))),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b('    <div class="d2h-files-diff">'),i.b("\n"+n),i.b('        <div class="d2h-file-side-diff">'),i.b("\n"+n),i.b('            <div class="d2h-code-wrapper">'),i.b("\n"+n),i.b('                <table class="d2h-diff-table">'),i.b("\n"+n),i.b('                    <tbody class="d2h-diff-tbody">'),i.b("\n"+n),i.b("                    "),i.b(i.t(i.d("diffs.left",e,t,0))),i.b("\n"+n),i.b("                    </tbody>"),i.b("\n"+n),i.b("                </table>"),i.b("\n"+n),i.b("            </div>"),i.b("\n"+n),i.b("        </div>"),i.b("\n"+n),i.b('        <div class="d2h-file-side-diff">'),i.b("\n"+n),i.b('            <div class="d2h-code-wrapper">'),i.b("\n"+n),i.b('                <table class="d2h-diff-table">'),i.b("\n"+n),i.b('                    <tbody class="d2h-diff-tbody">'),i.b("\n"+n),i.b("                    "),i.b(i.t(i.d("diffs.right",e,t,0))),i.b("\n"+n),i.b("                    </tbody>"),i.b("\n"+n),i.b("                </table>"),i.b("\n"+n),i.b("            </div>"),i.b("\n"+n),i.b("        </div>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("</div>"),i.fl()},partials:{},subs:{}}),t.defaultTemplates["tag-file-added"]=new a.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<span class="d2h-tag d2h-added d2h-added-tag">ADDED</span>'),i.fl()},partials:{},subs:{}}),t.defaultTemplates["tag-file-changed"]=new a.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<span class="d2h-tag d2h-changed d2h-changed-tag">CHANGED</span>'),i.fl()},partials:{},subs:{}}),t.defaultTemplates["tag-file-deleted"]=new a.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<span class="d2h-tag d2h-deleted d2h-deleted-tag">DELETED</span>'),i.fl()},partials:{},subs:{}}),t.defaultTemplates["tag-file-renamed"]=new a.Template({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<span class="d2h-tag d2h-moved d2h-moved-tag">RENAMED</span>'),i.fl()},partials:{},subs:{}})},"./node_modules/diff2html/lib/diff2html.js":function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.html=t.parse=t.defaultDiff2HtmlConfig=void 0;var l=a(n("./node_modules/diff2html/lib/diff-parser.js")),d=a(n("./node_modules/diff2html/lib/file-list-renderer.js")),u=a(n("./node_modules/diff2html/lib/line-by-line-renderer.js")),c=a(n("./node_modules/diff2html/lib/side-by-side-renderer.js")),f=n("./node_modules/diff2html/lib/types.js"),h=o(n("./node_modules/diff2html/lib/hoganjs-utils.js"));t.defaultDiff2HtmlConfig=i(i(i({},u.defaultLineByLineRendererConfig),c.defaultSideBySideRendererConfig),{outputFormat:f.OutputFormatType.LINE_BY_LINE,drawFileList:!0}),t.parse=function(e,n){return void 0===n&&(n={}),l.parse(e,i(i({},t.defaultDiff2HtmlConfig),n))},t.html=function(e,n){void 0===n&&(n={});var r=i(i({},t.defaultDiff2HtmlConfig),n),s="string"==typeof e?l.parse(e,r):e,a=new h.default(r);return(r.drawFileList?d.render(s,a):"")+("side-by-side"===r.outputFormat?new c.default(a,r).render(s):new u.default(a,r).render(s))}},"./node_modules/diff2html/lib/file-list-renderer.js":function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;var a=s(n("./node_modules/diff2html/lib/render-utils.js"));t.render=function(e,t){var n=e.map((function(e){return t.render("file-summary","line",{fileHtmlId:a.getHtmlId(e),oldName:e.oldName,newName:e.newName,fileName:a.filenameDiff(e),deletedLines:"-"+e.deletedLines,addedLines:"+"+e.addedLines},{fileIcon:t.template("icon",a.getFileIcon(e))})})).join("\n");return t.render("file-summary","wrapper",{filesNumber:e.length,files:n})}},"./node_modules/diff2html/lib/hoganjs-utils.js":function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n("./node_modules/hogan.js/lib/hogan.js")),l=n("./node_modules/diff2html/lib/diff2html-templates.js"),d=function(){function e(e){var t=e.compiledTemplates,n=void 0===t?{}:t,r=e.rawTemplates,s=void 0===r?{}:r,a=Object.entries(s).reduce((function(e,t){var n,r=t[0],s=t[1],a=o.compile(s,{asString:!1});return i(i({},e),((n={})[r]=a,n))}),{});this.preCompiledTemplates=i(i(i({},l.defaultTemplates),n),a)}return e.compile=function(e){return o.compile(e,{asString:!1})},e.prototype.render=function(e,t,n,i,r){var s=this.templateKey(e,t);try{return this.preCompiledTemplates[s].render(n,i,r)}catch(e){throw new Error("Could not find template to render '"+s+"'")}},e.prototype.template=function(e,t){return this.preCompiledTemplates[this.templateKey(e,t)]},e.prototype.templateKey=function(e,t){return e+"-"+t},e}();t.default=d},"./node_modules/diff2html/lib/line-by-line-renderer.js":function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLineByLineRendererConfig=void 0;var o=a(n("./node_modules/diff2html/lib/rematch.js")),l=a(n("./node_modules/diff2html/lib/render-utils.js")),d=n("./node_modules/diff2html/lib/types.js");t.defaultLineByLineRendererConfig=i(i({},l.defaultRenderConfig),{renderNothingWhenEmpty:!1,matchingMaxComparisons:2500,maxLineSizeInBlockForComparison:200});var u=function(){function e(e,n){void 0===n&&(n={}),this.hoganUtils=e,this.config=i(i({},t.defaultLineByLineRendererConfig),n)}return e.prototype.render=function(e){var t=this,n=e.map((function(e){var n;return n=e.blocks.length?t.generateFileHtml(e):t.generateEmptyDiff(),t.makeFileDiffHtml(e,n)})).join("\n");return this.hoganUtils.render("generic","wrapper",{content:n})},e.prototype.makeFileDiffHtml=function(e,t){if(this.config.renderNothingWhenEmpty&&Array.isArray(e.blocks)&&0===e.blocks.length)return"";var n=this.hoganUtils.template("line-by-line","file-diff"),i=this.hoganUtils.template("generic","file-path"),r=this.hoganUtils.template("icon","file"),s=this.hoganUtils.template("tag",l.getFileIcon(e));return n.render({file:e,fileHtmlId:l.getHtmlId(e),diffs:t,filePath:i.render({fileDiffName:l.filenameDiff(e)},{fileIcon:r,fileTag:s})})},e.prototype.generateEmptyDiff=function(){return this.hoganUtils.render("generic","empty-diff",{contentClass:"d2h-code-line",CSSLineClass:l.CSSLineClass})},e.prototype.generateFileHtml=function(e){var t=this,n=o.newMatcherFn(o.newDistanceFn((function(t){return l.deconstructLine(t.content,e.isCombined).content})));return e.blocks.map((function(i){var r=t.hoganUtils.render("generic","block-header",{CSSLineClass:l.CSSLineClass,blockHeader:l.escapeForHtml(i.header),lineClass:"d2h-code-linenumber",contentClass:"d2h-code-line"});return t.applyLineGroupping(i).forEach((function(i){var s=i[0],a=i[1],o=i[2];if(a.length&&o.length&&!s.length)t.applyRematchMatching(a,o,n).map((function(n){var i=n[0],s=n[1],a=t.processChangedLines(e.isCombined,i,s),o=a.left,l=a.right;r+=o,r+=l}));else if(s.length)s.forEach((function(n){var i=l.deconstructLine(n.content,e.isCombined),s=i.prefix,a=i.content;r+=t.generateSingleLineHtml({type:l.CSSLineClass.CONTEXT,prefix:s,content:a,oldNumber:n.oldNumber,newNumber:n.newNumber})}));else if(a.length||o.length){var d=t.processChangedLines(e.isCombined,a,o),u=d.left,c=d.right;r+=u,r+=c}else console.error("Unknown state reached while processing groups of lines",s,a,o)})),r})).join("\n")},e.prototype.applyLineGroupping=function(e){for(var t=[],n=[],i=[],r=0;r<e.lines.length;r++){var s=e.lines[r];(s.type!==d.LineType.INSERT&&i.length||s.type===d.LineType.CONTEXT&&n.length>0)&&(t.push([[],n,i]),n=[],i=[]),s.type===d.LineType.CONTEXT?t.push([[s],[],[]]):s.type===d.LineType.INSERT&&0===n.length?t.push([[],[],[s]]):s.type===d.LineType.INSERT&&n.length>0?i.push(s):s.type===d.LineType.DELETE&&n.push(s)}return(n.length||i.length)&&(t.push([[],n,i]),n=[],i=[]),t},e.prototype.applyRematchMatching=function(e,t,n){var i=e.length*t.length,r=Math.max.apply(null,[0].concat(e.concat(t).map((function(e){return e.content.length}))));return i<this.config.matchingMaxComparisons&&r<this.config.maxLineSizeInBlockForComparison&&("lines"===this.config.matching||"words"===this.config.matching)?n(e,t):[[e,t]]},e.prototype.processChangedLines=function(e,t,n){for(var r={right:"",left:""},s=Math.max(t.length,n.length),a=0;a<s;a++){var o=t[a],d=n[a],u=void 0!==o&&void 0!==d?l.diffHighlight(o.content,d.content,e,this.config):void 0,c=void 0!==o&&void 0!==o.oldNumber?i(i({},void 0!==u?{prefix:u.oldLine.prefix,content:u.oldLine.content,type:l.CSSLineClass.DELETE_CHANGES}:i(i({},l.deconstructLine(o.content,e)),{type:l.toCSSClass(o.type)})),{oldNumber:o.oldNumber,newNumber:o.newNumber}):void 0,f=void 0!==d&&void 0!==d.newNumber?i(i({},void 0!==u?{prefix:u.newLine.prefix,content:u.newLine.content,type:l.CSSLineClass.INSERT_CHANGES}:i(i({},l.deconstructLine(d.content,e)),{type:l.toCSSClass(d.type)})),{oldNumber:d.oldNumber,newNumber:d.newNumber}):void 0,h=this.generateLineHtml(c,f),p=h.left,m=h.right;r.left+=p,r.right+=m}return r},e.prototype.generateLineHtml=function(e,t){return{left:this.generateSingleLineHtml(e),right:this.generateSingleLineHtml(t)}},e.prototype.generateSingleLineHtml=function(e){if(void 0===e)return"";var t=this.hoganUtils.render("line-by-line","numbers",{oldNumber:e.oldNumber||"",newNumber:e.newNumber||""});return this.hoganUtils.render("generic","line",{type:e.type,lineClass:"d2h-code-linenumber",contentClass:"d2h-code-line",prefix:" "===e.prefix?"&nbsp;":e.prefix,content:e.content,lineNumber:t})},e}();t.default=u},"./node_modules/diff2html/lib/rematch.js":function(e,t,n){"use strict";function i(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var n,i,r=[];for(n=0;n<=t.length;n++)r[n]=[n];for(i=0;i<=e.length;i++)r[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=e.length;i++)t.charAt(n-1)===e.charAt(i-1)?r[n][i]=r[n-1][i-1]:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[t.length][e.length]}Object.defineProperty(t,"__esModule",{value:!0}),t.newMatcherFn=t.newDistanceFn=t.levenshtein=void 0,t.levenshtein=i,t.newDistanceFn=function(e){return function(t,n){var r=e(t).trim(),s=e(n).trim();return i(r,s)/(r.length+s.length)}},t.newMatcherFn=function(e){return function t(n,i,r,s){void 0===r&&(r=0),void 0===s&&(s=new Map);var a=function(t,n,i){void 0===i&&(i=new Map);for(var r,s=1/0,a=0;a<t.length;++a)for(var o=0;o<n.length;++o){var l=JSON.stringify([t[a],n[o]]),d=void 0;i.has(l)&&(d=i.get(l))||(d=e(t[a],n[o]),i.set(l,d)),d<s&&(r={indexA:a,indexB:o,score:s=d})}return r}(n,i,s);if(!a||n.length+i.length<3)return[[n,i]];var o=n.slice(0,a.indexA),l=i.slice(0,a.indexB),d=[n[a.indexA]],u=[i[a.indexB]],c=a.indexA+1,f=a.indexB+1,h=n.slice(c),p=i.slice(f),m=t(o,l,r+1,s),v=t(d,u,r+1,s),g=t(h,p,r+1,s),b=v;return(a.indexA>0||a.indexB>0)&&(b=m.concat(b)),(n.length>c||i.length>f)&&(b=b.concat(g)),b}}},"./node_modules/diff2html/lib/render-utils.js":function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.diffHighlight=t.getFileIcon=t.getHtmlId=t.filenameDiff=t.deconstructLine=t.escapeForHtml=t.toCSSClass=t.defaultRenderConfig=t.CSSLineClass=void 0;var o=a(n("./node_modules/diff/dist/diff.js")),l=n("./node_modules/diff2html/lib/utils.js"),d=a(n("./node_modules/diff2html/lib/rematch.js")),u=n("./node_modules/diff2html/lib/types.js");t.CSSLineClass={INSERTS:"d2h-ins",DELETES:"d2h-del",CONTEXT:"d2h-cntx",INFO:"d2h-info",INSERT_CHANGES:"d2h-ins d2h-change",DELETE_CHANGES:"d2h-del d2h-change"},t.defaultRenderConfig={matching:u.LineMatchingType.NONE,matchWordsThreshold:.25,maxLineLengthHighlight:1e4,diffStyle:u.DiffStyleType.WORD};var c=d.newDistanceFn((function(e){return e.value})),f=d.newMatcherFn(c);function h(e){return-1!==e.indexOf("dev/null")}function p(e){return e.replace(/(<del[^>]*>((.|\n)*?)<\/del>)/g,"")}function m(e){return e.slice(0).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}function v(e,t,n){void 0===n&&(n=!0);var i=function(e){return e?2:1}(t);return{prefix:e.substring(0,i),content:n?m(e.substring(i)):e.substring(i)}}function g(e){var t=l.unifyPath(e.oldName),n=l.unifyPath(e.newName);if(t===n||h(t)||h(n))return h(n)?t:n;for(var i=[],r=[],s=t.split("/"),a=n.split("/"),o=0,d=s.length-1,u=a.length-1;o<d&&o<u&&s[o]===a[o];)i.push(a[o]),o+=1;for(;d>o&&u>o&&s[d]===a[u];)r.unshift(a[u]),d-=1,u-=1;var c=i.join("/"),f=r.join("/"),p=s.slice(o,d+1).join("/"),m=a.slice(o,u+1).join("/");return c.length&&f.length?c+"/{"+p+"  "+m+"}/"+f:c.length?c+"/{"+p+"  "+m+"}":f.length?"{"+p+"  "+m+"}/"+f:t+"  "+n}t.toCSSClass=function(e){switch(e){case u.LineType.CONTEXT:return t.CSSLineClass.CONTEXT;case u.LineType.INSERT:return t.CSSLineClass.INSERTS;case u.LineType.DELETE:return t.CSSLineClass.DELETES}},t.escapeForHtml=m,t.deconstructLine=v,t.filenameDiff=g,t.getHtmlId=function(e){return"d2h-"+l.hashCode(g(e)).toString().slice(-6)},t.getFileIcon=function(e){var t="file-changed";return e.isRename||e.isCopy?t="file-renamed":e.isNew?t="file-added":e.isDeleted?t="file-deleted":e.newName!==e.oldName&&(t="file-renamed"),t},t.diffHighlight=function(e,n,r,s){void 0===s&&(s={});var a=i(i({},t.defaultRenderConfig),s),l=a.matching,d=a.maxLineLengthHighlight,u=a.matchWordsThreshold,h=a.diffStyle,g=v(e,r,!1),b=v(n,r,!1);if(g.content.length>d||b.content.length>d)return{oldLine:{prefix:g.prefix,content:m(g.content)},newLine:{prefix:b.prefix,content:m(b.content)}};var y="char"===h?o.diffChars(g.content,b.content):o.diffWordsWithSpace(g.content,b.content),w=[];if("word"===h&&"words"===l){var k=y.filter((function(e){return e.removed})),_=y.filter((function(e){return e.added}));f(_,k).forEach((function(e){1===e[0].length&&1===e[1].length&&(c(e[0][0],e[1][0])<u&&(w.push(e[0][0]),w.push(e[1][0])))}))}var S,N=y.reduce((function(e,t){var n=t.added?"ins":t.removed?"del":null,i=w.indexOf(t)>-1?' class="d2h-change"':"",r=m(t.value);return null!==n?e+"<"+n+i+">"+r+"</"+n+">":""+e+r}),"");return{oldLine:{prefix:g.prefix,content:(S=N,S.replace(/(<ins[^>]*>((.|\n)*?)<\/ins>)/g,""))},newLine:{prefix:b.prefix,content:p(N)}}}},"./node_modules/diff2html/lib/side-by-side-renderer.js":function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSideBySideRendererConfig=void 0;var o=a(n("./node_modules/diff2html/lib/rematch.js")),l=a(n("./node_modules/diff2html/lib/render-utils.js")),d=n("./node_modules/diff2html/lib/types.js");t.defaultSideBySideRendererConfig=i(i({},l.defaultRenderConfig),{renderNothingWhenEmpty:!1,matchingMaxComparisons:2500,maxLineSizeInBlockForComparison:200});var u=function(){function e(e,n){void 0===n&&(n={}),this.hoganUtils=e,this.config=i(i({},t.defaultSideBySideRendererConfig),n)}return e.prototype.render=function(e){var t=this,n=e.map((function(e){var n;return n=e.blocks.length?t.generateFileHtml(e):t.generateEmptyDiff(),t.makeFileDiffHtml(e,n)})).join("\n");return this.hoganUtils.render("generic","wrapper",{content:n})},e.prototype.makeFileDiffHtml=function(e,t){if(this.config.renderNothingWhenEmpty&&Array.isArray(e.blocks)&&0===e.blocks.length)return"";var n=this.hoganUtils.template("side-by-side","file-diff"),i=this.hoganUtils.template("generic","file-path"),r=this.hoganUtils.template("icon","file"),s=this.hoganUtils.template("tag",l.getFileIcon(e));return n.render({file:e,fileHtmlId:l.getHtmlId(e),diffs:t,filePath:i.render({fileDiffName:l.filenameDiff(e)},{fileIcon:r,fileTag:s})})},e.prototype.generateEmptyDiff=function(){return{right:"",left:this.hoganUtils.render("generic","empty-diff",{contentClass:"d2h-code-side-line",CSSLineClass:l.CSSLineClass})}},e.prototype.generateFileHtml=function(e){var t=this,n=o.newMatcherFn(o.newDistanceFn((function(t){return l.deconstructLine(t.content,e.isCombined).content})));return e.blocks.map((function(i){var r={left:t.makeHeaderHtml(i.header),right:t.makeHeaderHtml("")};return t.applyLineGroupping(i).forEach((function(i){var s=i[0],a=i[1],o=i[2];if(a.length&&o.length&&!s.length)t.applyRematchMatching(a,o,n).map((function(n){var i=n[0],s=n[1],a=t.processChangedLines(e.isCombined,i,s),o=a.left,l=a.right;r.left+=o,r.right+=l}));else if(s.length)s.forEach((function(n){var i=l.deconstructLine(n.content,e.isCombined),s=i.prefix,a=i.content,o=t.generateLineHtml({type:l.CSSLineClass.CONTEXT,prefix:s,content:a,number:n.oldNumber},{type:l.CSSLineClass.CONTEXT,prefix:s,content:a,number:n.newNumber}),d=o.left,u=o.right;r.left+=d,r.right+=u}));else if(a.length||o.length){var d=t.processChangedLines(e.isCombined,a,o),u=d.left,c=d.right;r.left+=u,r.right+=c}else console.error("Unknown state reached while processing groups of lines",s,a,o)})),r})).reduce((function(e,t){return{left:e.left+t.left,right:e.right+t.right}}),{left:"",right:""})},e.prototype.applyLineGroupping=function(e){for(var t=[],n=[],i=[],r=0;r<e.lines.length;r++){var s=e.lines[r];(s.type!==d.LineType.INSERT&&i.length||s.type===d.LineType.CONTEXT&&n.length>0)&&(t.push([[],n,i]),n=[],i=[]),s.type===d.LineType.CONTEXT?t.push([[s],[],[]]):s.type===d.LineType.INSERT&&0===n.length?t.push([[],[],[s]]):s.type===d.LineType.INSERT&&n.length>0?i.push(s):s.type===d.LineType.DELETE&&n.push(s)}return(n.length||i.length)&&(t.push([[],n,i]),n=[],i=[]),t},e.prototype.applyRematchMatching=function(e,t,n){var i=e.length*t.length,r=Math.max.apply(null,[0].concat(e.concat(t).map((function(e){return e.content.length}))));return i<this.config.matchingMaxComparisons&&r<this.config.maxLineSizeInBlockForComparison&&("lines"===this.config.matching||"words"===this.config.matching)?n(e,t):[[e,t]]},e.prototype.makeHeaderHtml=function(e){return this.hoganUtils.render("generic","block-header",{CSSLineClass:l.CSSLineClass,blockHeader:l.escapeForHtml(e),lineClass:"d2h-code-side-linenumber",contentClass:"d2h-code-side-line"})},e.prototype.processChangedLines=function(e,t,n){for(var r={right:"",left:""},s=Math.max(t.length,n.length),a=0;a<s;a++){var o=t[a],d=n[a],u=void 0!==o&&void 0!==d?l.diffHighlight(o.content,d.content,e,this.config):void 0,c=void 0!==o&&void 0!==o.oldNumber?i(i({},void 0!==u?{prefix:u.oldLine.prefix,content:u.oldLine.content,type:l.CSSLineClass.DELETE_CHANGES}:i(i({},l.deconstructLine(o.content,e)),{type:l.toCSSClass(o.type)})),{number:o.oldNumber}):void 0,f=void 0!==d&&void 0!==d.newNumber?i(i({},void 0!==u?{prefix:u.newLine.prefix,content:u.newLine.content,type:l.CSSLineClass.INSERT_CHANGES}:i(i({},l.deconstructLine(d.content,e)),{type:l.toCSSClass(d.type)})),{number:d.newNumber}):void 0,h=this.generateLineHtml(c,f),p=h.left,m=h.right;r.left+=p,r.right+=m}return r},e.prototype.generateLineHtml=function(e,t){return{left:this.generateSingleHtml(e),right:this.generateSingleHtml(t)}},e.prototype.generateSingleHtml=function(e){return this.hoganUtils.render("generic","line",{type:(null==e?void 0:e.type)||l.CSSLineClass.CONTEXT+" d2h-emptyplaceholder",lineClass:void 0!==e?"d2h-code-side-linenumber":"d2h-code-side-linenumber d2h-code-side-emptyplaceholder",contentClass:void 0!==e?"d2h-code-side-line":"d2h-code-side-line d2h-code-side-emptyplaceholder",prefix:" "===(null==e?void 0:e.prefix)?"&nbsp;":null==e?void 0:e.prefix,content:null==e?void 0:e.content,lineNumber:null==e?void 0:e.number})},e}();t.default=u},"./node_modules/diff2html/lib/types.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiffStyleType=t.LineMatchingType=t.OutputFormatType=t.LineType=void 0,function(e){e.INSERT="insert",e.DELETE="delete",e.CONTEXT="context"}(t.LineType||(t.LineType={})),t.OutputFormatType={LINE_BY_LINE:"line-by-line",SIDE_BY_SIDE:"side-by-side"},t.LineMatchingType={LINES:"lines",WORDS:"words",NONE:"none"},t.DiffStyleType={WORD:"word",CHAR:"char"}},"./node_modules/diff2html/lib/utils.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hashCode=t.unifyPath=t.escapeForRegExp=void 0;var i=RegExp("["+["-","[","]","/","{","}","(",")","*","+","?",".","\\","^","$","|"].join("\\")+"]","g");t.escapeForRegExp=function(e){return e.replace(i,"\\$&")},t.unifyPath=function(e){return e?e.replace(/\\/g,"/"):e},t.hashCode=function(e){var t,n,i=0;for(t=0,n=e.length;t<n;t++)i=(i<<5)-i+e.charCodeAt(t),i|=0;return i}},"./node_modules/hogan.js/lib/compiler.js":function(e,t,n){!function(e){var t=/\S/,n=/\"/g,i=/\n/g,r=/\r/g,s=/\\/g,a=/\u2028/,o=/\u2029/;function l(e){"}"===e.n.substr(e.n.length-1)&&(e.n=e.n.substring(0,e.n.length-1))}function d(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function u(e,t,n){if(t.charAt(n)!=e.charAt(0))return!1;for(var i=1,r=e.length;i<r;i++)if(t.charAt(n+i)!=e.charAt(i))return!1;return!0}e.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},e.scan=function(n,i){var r=n.length,s=0,a=null,o=null,c="",f=[],h=!1,p=0,m=0,v="{{",g="}}";function b(){c.length>0&&(f.push({tag:"_t",text:new String(c)}),c="")}function y(n,i){if(b(),n&&function(){for(var n=!0,i=m;i<f.length;i++)if(!(n=e.tags[f[i].tag]<e.tags._v||"_t"==f[i].tag&&null===f[i].text.match(t)))return!1;return n}())for(var r,s=m;s<f.length;s++)f[s].text&&((r=f[s+1])&&">"==r.tag&&(r.indent=f[s].text.toString()),f.splice(s,1));else i||f.push({tag:"\n"});h=!1,m=f.length}function w(e,t){var n="="+g,i=e.indexOf(n,t),r=d(e.substring(e.indexOf("=",t)+1,i)).split(" ");return v=r[0],g=r[r.length-1],i+n.length-1}for(i&&(i=i.split(" "),v=i[0],g=i[1]),p=0;p<r;p++)0==s?u(v,n,p)?(--p,b(),s=1):"\n"==n.charAt(p)?y(h):c+=n.charAt(p):1==s?(p+=v.length-1,"="==(a=(o=e.tags[n.charAt(p+1)])?n.charAt(p+1):"_v")?(p=w(n,p),s=0):(o&&p++,s=2),h=p):u(g,n,p)?(f.push({tag:a,n:d(c),otag:v,ctag:g,i:"/"==a?h-v.length:p+g.length}),c="",p+=g.length-1,s=0,"{"==a&&("}}"==g?p++:l(f[f.length-1]))):c+=n.charAt(p);return y(h,!0),f};var c={_t:!0,"\n":!0,$:!0,"/":!0};function f(e,t){for(var n=0,i=t.length;n<i;n++)if(t[n].o==e.n)return e.tag="#",!0}function h(e,t,n){for(var i=0,r=n.length;i<r;i++)if(n[i].c==e&&n[i].o==t)return!0}function p(e){var t=[];for(var n in e.partials)t.push('"'+v(n)+'":{name:"'+v(e.partials[n].name)+'", '+p(e.partials[n])+"}");return"partials: {"+t.join(",")+"}, subs: "+function(e){var t=[];for(var n in e)t.push('"'+v(n)+'": function(c,p,t,i) {'+e[n]+"}");return"{ "+t.join(",")+" }"}(e.subs)}e.stringify=function(t,n,i){return"{code: function (c,p,i) { "+e.wrapMain(t.code)+" },"+p(t)+"}"};var m=0;function v(e){return e.replace(s,"\\\\").replace(n,'\\"').replace(i,"\\n").replace(r,"\\r").replace(a,"\\u2028").replace(o,"\\u2029")}function g(e){return~e.indexOf(".")?"d":"f"}function b(e,t){var n="<"+(t.prefix||"")+e.n+m++;return t.partials[n]={name:e.n,partials:{}},t.code+='t.b(t.rp("'+v(n)+'",c,p,"'+(e.indent||"")+'"));',n}function y(e,t){t.code+="t.b(t.t(t."+g(e.n)+'("'+v(e.n)+'",c,p,0)));'}function w(e){return"t.b("+e+");"}e.generate=function(t,n,i){m=0;var r={code:"",subs:{},partials:{}};return e.walk(t,r),i.asString?this.stringify(r,n,i):this.makeTemplate(r,n,i)},e.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"},e.template=e.Template,e.makeTemplate=function(e,t,n){var i=this.makePartials(e);return i.code=new Function("c","p","i",this.wrapMain(e.code)),new this.template(i,t,this,n)},e.makePartials=function(e){var t,n={subs:{},partials:e.partials,name:e.name};for(t in n.partials)n.partials[t]=this.makePartials(n.partials[t]);for(t in e.subs)n.subs[t]=new Function("c","p","t","i",e.subs[t]);return n},e.codegen={"#":function(t,n){n.code+="if(t.s(t."+g(t.n)+'("'+v(t.n)+'",c,p,1),c,p,0,'+t.i+","+t.end+',"'+t.otag+" "+t.ctag+'")){t.rs(c,p,function(c,p,t){',e.walk(t.nodes,n),n.code+="});c.pop();}"},"^":function(t,n){n.code+="if(!t.s(t."+g(t.n)+'("'+v(t.n)+'",c,p,1),c,p,1,0,0,"")){',e.walk(t.nodes,n),n.code+="};"},">":b,"<":function(t,n){var i={partials:{},code:"",subs:{},inPartial:!0};e.walk(t.nodes,i);var r=n.partials[b(t,n)];r.subs=i.subs,r.partials=i.partials},$:function(t,n){var i={subs:{},code:"",partials:n.partials,prefix:t.n};e.walk(t.nodes,i),n.subs[t.n]=i.code,n.inPartial||(n.code+='t.sub("'+v(t.n)+'",c,p,i);')},"\n":function(e,t){t.code+=w('"\\n"'+(e.last?"":" + i"))},_v:function(e,t){t.code+="t.b(t.v(t."+g(e.n)+'("'+v(e.n)+'",c,p,0)));'},_t:function(e,t){t.code+=w('"'+v(e.text)+'"')},"{":y,"&":y},e.walk=function(t,n){for(var i,r=0,s=t.length;r<s;r++)(i=e.codegen[t[r].tag])&&i(t[r],n);return n},e.parse=function(t,n,i){return function t(n,i,r,s){var a,o=[],l=null,d=null;for(a=r[r.length-1];n.length>0;){if(d=n.shift(),a&&"<"==a.tag&&!(d.tag in c))throw new Error("Illegal content in < super tag.");if(e.tags[d.tag]<=e.tags.$||f(d,s))r.push(d),d.nodes=t(n,d.tag,r,s);else{if("/"==d.tag){if(0===r.length)throw new Error("Closing tag without opener: /"+d.n);if(l=r.pop(),d.n!=l.n&&!h(d.n,l.n,s))throw new Error("Nesting error: "+l.n+" vs. "+d.n);return l.end=d.i,o}"\n"==d.tag&&(d.last=0==n.length||"\n"==n[0].tag)}o.push(d)}if(r.length>0)throw new Error("missing closing tag: "+r.pop().n);return o}(t,0,[],(i=i||{}).sectionTags||[])},e.cache={},e.cacheKey=function(e,t){return[e,!!t.asString,!!t.disableLambda,t.delimiters,!!t.modelGet].join("||")},e.compile=function(t,n){n=n||{};var i=e.cacheKey(t,n),r=this.cache[i];if(r){var s=r.partials;for(var a in s)delete s[a].instance;return r}return r=this.generate(this.parse(this.scan(t,n.delimiters),t,n),t,n),this.cache[i]=r}}(t)},"./node_modules/hogan.js/lib/hogan.js":function(e,t,n){var i=n("./node_modules/hogan.js/lib/compiler.js");i.Template=n("./node_modules/hogan.js/lib/template.js").Template,i.template=i.Template,e.exports=i},"./node_modules/hogan.js/lib/template.js":function(e,t,n){!function(e){function t(e,t,n){var i;return t&&"object"==typeof t&&(void 0!==t[e]?i=t[e]:n&&t.get&&"function"==typeof t.get&&(i=t.get(e))),i}e.Template=function(e,t,n,i){e=e||{},this.r=e.code||this.r,this.c=n,this.options=i||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(e,t,n){return""},v:function(e){return e=l(e),o.test(e)?e.replace(n,"&amp;").replace(i,"&lt;").replace(r,"&gt;").replace(s,"&#39;").replace(a,"&quot;"):e},t:l,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},ep:function(e,t){var n=this.partials[e],i=t[n.name];if(n.instance&&n.base==i)return n.instance;if("string"==typeof i){if(!this.c)throw new Error("No compiler available.");i=this.c.compile(i,this.options)}if(!i)return null;if(this.partials[e].base=i,n.subs){for(key in t.stackText||(t.stackText={}),n.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);i=function(e,t,n,i,r,s){function a(){}function o(){}var l;a.prototype=e,o.prototype=e.subs;var d=new a;for(l in d.subs=new o,d.subsText={},d.buf="",i=i||{},d.stackSubs=i,d.subsText=s,t)i[l]||(i[l]=t[l]);for(l in i)d.subs[l]=i[l];for(l in r=r||{},d.stackPartials=r,n)r[l]||(r[l]=n[l]);for(l in r)d.partials[l]=r[l];return d}(i,n.subs,n.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=i,i},rp:function(e,t,n,i){var r=this.ep(e,n);return r?r.ri(t,n,i):""},rs:function(e,t,n){var i=e[e.length-1];if(d(i))for(var r=0;r<i.length;r++)e.push(i[r]),n(e,t,this),e.pop();else n(e,t,this)},s:function(e,t,n,i,r,s,a){var o;return(!d(e)||0!==e.length)&&("function"==typeof e&&(e=this.ms(e,t,n,i,r,s,a)),o=!!e,!i&&o&&t&&t.push("object"==typeof e?e:t[t.length-1]),o)},d:function(e,n,i,r){var s,a=e.split("."),o=this.f(a[0],n,i,r),l=this.options.modelGet,u=null;if("."===e&&d(n[n.length-2]))o=n[n.length-1];else for(var c=1;c<a.length;c++)void 0!==(s=t(a[c],o,l))?(u=o,o=s):o="";return!(r&&!o)&&(r||"function"!=typeof o||(n.push(u),o=this.mv(o,n,i),n.pop()),o)},f:function(e,n,i,r){for(var s=!1,a=!1,o=this.options.modelGet,l=n.length-1;l>=0;l--)if(void 0!==(s=t(e,n[l],o))){a=!0;break}return a?(r||"function"!=typeof s||(s=this.mv(s,n,i)),s):!r&&""},ls:function(e,t,n,i,r){var s=this.options.delimiters;return this.options.delimiters=r,this.b(this.ct(l(e.call(t,i)),t,n)),this.options.delimiters=s,!1},ct:function(e,t,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,n)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,n,i,r,s,a){var o,l=t[t.length-1],d=e.call(l);return"function"==typeof d?!!i||(o=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(d,l,n,o.substring(r,s),a)):d},mv:function(e,t,n){var i=t[t.length-1],r=e.call(i);return"function"==typeof r?this.ct(l(r.call(i)),i,n):r},sub:function(e,t,n,i){var r=this.subs[e];r&&(this.activeSub=e,r(t,n,this,i),this.activeSub=!1)}};var n=/&/g,i=/</g,r=/>/g,s=/\'/g,a=/\"/g,o=/[&<>\"\']/;function l(e){return String(null==e?"":e)}var d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}(t)},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/sass-resources-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!./client/components/history.vue?vue&type=style&index=0&lang=scss&":function(e,t,n){}}]);